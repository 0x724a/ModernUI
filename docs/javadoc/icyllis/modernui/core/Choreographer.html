<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (21) on Sat Mar 30 13:34:46 CST 2024 -->
<title>Choreographer</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2024-03-30">
<meta name="description" content="declaration: package: icyllis.modernui.core, class: Choreographer">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li><a href="#nested-class-summary">Nested</a></li>
<li><a href="#field-summary">Field</a></li>
<li>Constr</li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li><a href="#field-detail">Field</a></li>
<li>Constr</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">icyllis.modernui.core</a></div>
<h1 title="Class Choreographer" class="title">Class Choreographer</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">icyllis.modernui.core.Choreographer</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="annotations">@Internal
</span><span class="modifiers">public final class </span><span class="element-name type-name-label">Choreographer</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">Coordinates the timing of animations, input and drawing.
 <p>
 The choreographer receives timing pulses (such as vertical synchronization)
 from the render thread then schedules work to occur as part of rendering
 the next display frame.
 </p><p>
 Applications typically interact with the choreographer indirectly using
 higher level abstractions in the animation framework or the view hierarchy.
 Here are some examples of things you can do using the higher-level APIs.
 </p>
 <ul>
 <li>To post an animation to be processed on a regular time basis synchronized with
 display frame rendering, use <a href="../animation/ValueAnimator.html#start()"><code>ValueAnimator.start()</code></a>.</li>
 <li>To post a <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link"><code>Runnable</code></a> to be invoked once at the beginning of the next display
 frame, use <a href="../view/View.html#postOnAnimation(java.lang.Runnable)"><code>View.postOnAnimation(java.lang.Runnable)</code></a>.</li>
 <li>To post a <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link"><code>Runnable</code></a> to be invoked once at the beginning of the next display
 frame after a delay, use <a href="../view/View.html#postOnAnimationDelayed(java.lang.Runnable,long)"><code>View.postOnAnimationDelayed(java.lang.Runnable, long)</code></a>.</li>
 <li>To post a call to <a href="../view/View.html#invalidate()"><code>View.invalidate()</code></a> to occur once at the beginning of the
 next display frame, use <a href="../view/View.html#postInvalidateOnAnimation()"><code>View.postInvalidateOnAnimation()</code></a>.</li>
 <li>To ensure that the contents of a <a href="../view/View.html" title="class in icyllis.modernui.view"><code>View</code></a> scroll smoothly and are drawn in
 sync with display frame rendering, do nothing.  This already happens automatically.
 <a href="../view/View.html#draw(icyllis.modernui.graphics.Canvas)"><code>View.draw(Canvas)</code></a> will be called at the appropriate time.</li>
 </ul>
 <p>
 However, there are a few cases where you might want to use the functions of the
 choreographer directly in your application.  Here are some examples.
 </p>
 <ul>
 <li>If your application does its rendering in a different thread, possibly using GL,
 or does not use the animation framework or view hierarchy at all
 and you want to ensure that it is appropriately synchronized with the display, then use
 <a href="#postFrameCallback(icyllis.modernui.core.Choreographer.FrameCallback)"><code>postFrameCallback(icyllis.modernui.core.Choreographer.FrameCallback)</code></a>.</li>
 <li>... and that's about it.</li>
 </ul>
 <p>
 Each <a href="Looper.html" title="class in icyllis.modernui.core"><code>Looper</code></a> thread has its own choreographer.  Other threads can
 post callbacks to run on the choreographer but they will run on the <a href="Looper.html" title="class in icyllis.modernui.core"><code>Looper</code></a>
 to which the choreographer belongs.
 </p></div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static interface&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="Choreographer.FrameCallback.html" class="type-name-link" title="interface in icyllis.modernui.core">Choreographer.FrameCallback</a></code></div>
<div class="col-last even-row-color">
<div class="block">Implement this interface to receive a callback when a new display frame is
 being rendered.</div>
</div>
</div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static final int</code></div>
<div class="col-second even-row-color"><code><a href="#CALLBACK_ANIMATION" class="member-name-link">CALLBACK_ANIMATION</a></code></div>
<div class="col-last even-row-color">
<div class="block">Callback type: Animation callback.</div>
</div>
<div class="col-first odd-row-color"><code>static final int</code></div>
<div class="col-second odd-row-color"><code><a href="#CALLBACK_COMMIT" class="member-name-link">CALLBACK_COMMIT</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Callback type: Commit callback.</div>
</div>
<div class="col-first even-row-color"><code>static final int</code></div>
<div class="col-second even-row-color"><code><a href="#CALLBACK_INPUT" class="member-name-link">CALLBACK_INPUT</a></code></div>
<div class="col-last even-row-color">
<div class="block">Callback type: Input callback.</div>
</div>
<div class="col-first odd-row-color"><code>static final int</code></div>
<div class="col-second odd-row-color"><code><a href="#CALLBACK_TRAVERSAL" class="member-name-link">CALLBACK_TRAVERSAL</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Callback type: Traversal callback.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getFrameDelay()" class="member-name-link">getFrameDelay</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">The amount of time, in milliseconds, between each frame of the animation.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getFrameTime()" class="member-name-link">getFrameTime</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Gets the time when the current frame started.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getFrameTimeNanos()" class="member-name-link">getFrameTimeNanos</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Same as <a href="#getFrameTime()"><code>getFrameTime()</code></a> but with nanosecond precision.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="Choreographer.html" title="class in icyllis.modernui.core">Choreographer</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getInstance()" class="member-name-link">getInstance</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Gets the choreographer for the calling thread.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getLastFrameTimeNanos()" class="member-name-link">getLastFrameTimeNanos</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Like <a href="#getFrameTimeNanos()"><code>getFrameTimeNanos()</code></a>, but always returns the last frame time, not matter
 whether callbacks are currently running.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#postCallback(int,java.lang.Runnable,java.lang.Object)" class="member-name-link">postCallback</a><wbr>(int&nbsp;callbackType,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a>&nbsp;action,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;token)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Posts a callback to run on the next frame.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#postCallbackDelayed(int,java.lang.Runnable,java.lang.Object,long)" class="member-name-link">postCallbackDelayed</a><wbr>(int&nbsp;callbackType,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a>&nbsp;action,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;token,
 long&nbsp;delayMillis)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Posts a callback to run on the next frame after the specified delay.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#postFrameCallback(icyllis.modernui.core.Choreographer.FrameCallback)" class="member-name-link">postFrameCallback</a><wbr>(<a href="Choreographer.FrameCallback.html" title="interface in icyllis.modernui.core">Choreographer.FrameCallback</a>&nbsp;callback)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Posts a frame callback to run on the next frame.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#postFrameCallbackDelayed(icyllis.modernui.core.Choreographer.FrameCallback,long)" class="member-name-link">postFrameCallbackDelayed</a><wbr>(<a href="Choreographer.FrameCallback.html" title="interface in icyllis.modernui.core">Choreographer.FrameCallback</a>&nbsp;callback,
 long&nbsp;delayMillis)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Posts a frame callback to run on the next frame after the specified delay.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeCallbacks(int,java.lang.Runnable,java.lang.Object)" class="member-name-link">removeCallbacks</a><wbr>(int&nbsp;callbackType,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a>&nbsp;action,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;token)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Removes callbacks that have the specified action and token.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeFrameCallback(icyllis.modernui.core.Choreographer.FrameCallback)" class="member-name-link">removeFrameCallback</a><wbr>(<a href="Choreographer.FrameCallback.html" title="interface in icyllis.modernui.core">Choreographer.FrameCallback</a>&nbsp;callback)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Removes a previously posted frame callback.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#setFrameDelay(long)" class="member-name-link">setFrameDelay</a><wbr>(long&nbsp;frameDelay)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">The amount of time, in milliseconds, between each frame of the animation.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#subtractFrameDelay(long)" class="member-name-link">subtractFrameDelay</a><wbr>(long&nbsp;delayMillis)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Subtracts typical frame delay time from a delay interval in milliseconds.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="CALLBACK_INPUT">
<h3>CALLBACK_INPUT</h3>
<div class="member-signature"><span class="annotations">@Internal
</span><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">CALLBACK_INPUT</span></div>
<div class="block">Callback type: Input callback.  Runs first.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../constant-values.html#icyllis.modernui.core.Choreographer.CALLBACK_INPUT">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="CALLBACK_ANIMATION">
<h3>CALLBACK_ANIMATION</h3>
<div class="member-signature"><span class="annotations">@Internal
</span><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">CALLBACK_ANIMATION</span></div>
<div class="block">Callback type: Animation callback.  Runs before <a href="#CALLBACK_TRAVERSAL"><code>CALLBACK_TRAVERSAL</code></a>.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../constant-values.html#icyllis.modernui.core.Choreographer.CALLBACK_ANIMATION">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="CALLBACK_TRAVERSAL">
<h3>CALLBACK_TRAVERSAL</h3>
<div class="member-signature"><span class="annotations">@Internal
</span><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">CALLBACK_TRAVERSAL</span></div>
<div class="block">Callback type: Traversal callback.  Handles layout and draw.  Runs
 after all other asynchronous messages have been handled.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../constant-values.html#icyllis.modernui.core.Choreographer.CALLBACK_TRAVERSAL">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="CALLBACK_COMMIT">
<h3>CALLBACK_COMMIT</h3>
<div class="member-signature"><span class="annotations">@Internal
</span><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">CALLBACK_COMMIT</span></div>
<div class="block">Callback type: Commit callback.  Handles post-draw operations for the frame.
 Runs after traversal completes.  The <a href="#getFrameTime()"><code>frame time</code></a> reported
 during this callback may be updated to reflect delays that occurred while
 traversals were in progress in case heavy layout operations caused some frames
 to be skipped.  The frame time reported during this callback provides a better
 estimate of the start time of the frame in which animations (and other updates
 to the view hierarchy state) actually took effect.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../constant-values.html#icyllis.modernui.core.Choreographer.CALLBACK_COMMIT">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getInstance()">
<h3>getInstance</h3>
<div class="member-signature"><span class="annotations"><a href="../annotation/NonNull.html" title="annotation interface in icyllis.modernui.annotation">@NonNull</a>
</span><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="Choreographer.html" title="class in icyllis.modernui.core">Choreographer</a></span>&nbsp;<span class="element-name">getInstance</span>()</div>
<div class="block">Gets the choreographer for the calling thread.  Must be called from
 a thread that already has a <a href="Looper.html" title="class in icyllis.modernui.core"><code>Looper</code></a> associated with it.
 Must NOT be called from render thread.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The choreographer for this thread.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if the thread does not have a looper</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getFrameDelay()">
<h3>getFrameDelay</h3>
<div class="member-signature"><span class="annotations">@Internal
</span><span class="modifiers">public static</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getFrameDelay</span>()</div>
<div class="block">The amount of time, in milliseconds, between each frame of the animation.
 <p>
 This is a requested time that the animation will attempt to honor, but the actual delay
 between frames may be different, depending on system load and capabilities. This is a static
 function because the same delay will be applied to all animations, since they are all
 run off of a single timing loop.
 </p></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the requested time between frames, in milliseconds</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setFrameDelay(long)">
<h3>setFrameDelay</h3>
<div class="member-signature"><span class="annotations">@Internal
</span><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setFrameDelay</span><wbr><span class="parameters">(long&nbsp;frameDelay)</span></div>
<div class="block">The amount of time, in milliseconds, between each frame of the animation.
 <p>
 This is a requested time that the animation will attempt to honor, but the actual delay
 between frames may be different, depending on system load and capabilities. This is a static
 function because the same delay will be applied to all animations, since they are all
 run off of a single timing loop.
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>frameDelay</code> - the requested time between frames, in milliseconds</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="subtractFrameDelay(long)">
<h3>subtractFrameDelay</h3>
<div class="member-signature"><span class="annotations">@Internal
</span><span class="modifiers">public static</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">subtractFrameDelay</span><wbr><span class="parameters">(long&nbsp;delayMillis)</span></div>
<div class="block">Subtracts typical frame delay time from a delay interval in milliseconds.
 <p>
 This method can be used to compensate for animation delay times that have baked
 in assumptions about the frame delay.  For example, it's quite common for code to
 assume a 60Hz frame time and bake in a 16ms delay.  When we call
 <a href="#postCallbackDelayed(int,java.lang.Runnable,java.lang.Object,long)"><code>postCallbackDelayed(int, java.lang.Runnable, java.lang.Object, long)</code></a> on animation we want to know how long to wait before
 posting the animation callback but let the animation timer take care of the remaining
 frame delay time.
 </p><p>
 This method is somewhat conservative about how much of the frame delay it
 subtracts.  It uses the same value returned by <a href="#getFrameDelay()"><code>getFrameDelay()</code></a> which by
 default is 10ms even though many parts of the system assume 16ms.  Consequently,
 we might still wait 6ms before posting an animation callback that we want to run
 on the next frame, but this is much better than waiting a whole 16ms and likely
 missing the deadline.
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>delayMillis</code> - The original delay time including an assumed frame delay.</dd>
<dt>Returns:</dt>
<dd>The adjusted delay time with the assumed frame delay subtracted out.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="postCallback(int,java.lang.Runnable,java.lang.Object)">
<h3>postCallback</h3>
<div class="member-signature"><span class="annotations">@Internal
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">postCallback</span><wbr><span class="parameters">(int&nbsp;callbackType,
 <a href="../annotation/NonNull.html" title="annotation interface in icyllis.modernui.annotation">@NonNull</a>
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a>&nbsp;action,
 <a href="../annotation/Nullable.html" title="annotation interface in icyllis.modernui.annotation">@Nullable</a>
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;token)</span></div>
<div class="block">Posts a callback to run on the next frame.
 <p>
 The callback runs once then is automatically removed.
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>callbackType</code> - The callback type.</dd>
<dd><code>action</code> - The callback action to run during the next frame.</dd>
<dd><code>token</code> - The callback token, or null if none.</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="#removeCallbacks(int,java.lang.Runnable,java.lang.Object)"><code>removeCallbacks(int, Runnable, Object)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="postCallbackDelayed(int,java.lang.Runnable,java.lang.Object,long)">
<h3>postCallbackDelayed</h3>
<div class="member-signature"><span class="annotations">@Internal
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">postCallbackDelayed</span><wbr><span class="parameters">(int&nbsp;callbackType,
 <a href="../annotation/NonNull.html" title="annotation interface in icyllis.modernui.annotation">@NonNull</a>
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a>&nbsp;action,
 <a href="../annotation/Nullable.html" title="annotation interface in icyllis.modernui.annotation">@Nullable</a>
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;token,
 long&nbsp;delayMillis)</span></div>
<div class="block">Posts a callback to run on the next frame after the specified delay.
 <p>
 The callback runs once then is automatically removed.
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>callbackType</code> - The callback type.</dd>
<dd><code>action</code> - The callback action to run during the next frame after the specified delay.</dd>
<dd><code>token</code> - The callback token, or null if none.</dd>
<dd><code>delayMillis</code> - The delay time in milliseconds.</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="#removeCallbacks(int,java.lang.Runnable,java.lang.Object)"><code>removeCallbacks(int, Runnable, Object)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeCallbacks(int,java.lang.Runnable,java.lang.Object)">
<h3>removeCallbacks</h3>
<div class="member-signature"><span class="annotations">@Internal
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">removeCallbacks</span><wbr><span class="parameters">(int&nbsp;callbackType,
 <a href="../annotation/Nullable.html" title="annotation interface in icyllis.modernui.annotation">@Nullable</a>
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a>&nbsp;action,
 <a href="../annotation/Nullable.html" title="annotation interface in icyllis.modernui.annotation">@Nullable</a>
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;token)</span></div>
<div class="block">Removes callbacks that have the specified action and token.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>callbackType</code> - The callback type.</dd>
<dd><code>action</code> - The action property of the callbacks to remove, or null to remove
                     callbacks with any action.</dd>
<dd><code>token</code> - The token property of the callbacks to remove, or null to remove
                     callbacks with any token.</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="#postCallback(int,java.lang.Runnable,java.lang.Object)"><code>postCallback(int, java.lang.Runnable, java.lang.Object)</code></a></li>
<li><a href="#postCallbackDelayed(int,java.lang.Runnable,java.lang.Object,long)"><code>postCallbackDelayed(int, java.lang.Runnable, java.lang.Object, long)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="postFrameCallback(icyllis.modernui.core.Choreographer.FrameCallback)">
<h3>postFrameCallback</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">postFrameCallback</span><wbr><span class="parameters">(<a href="../annotation/NonNull.html" title="annotation interface in icyllis.modernui.annotation">@NonNull</a>
 <a href="Choreographer.FrameCallback.html" title="interface in icyllis.modernui.core">Choreographer.FrameCallback</a>&nbsp;callback)</span></div>
<div class="block">Posts a frame callback to run on the next frame.
 <p>
 The callback runs once then is automatically removed.
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>callback</code> - The frame callback to run during the next frame.</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="#postFrameCallbackDelayed(icyllis.modernui.core.Choreographer.FrameCallback,long)"><code>postFrameCallbackDelayed(icyllis.modernui.core.Choreographer.FrameCallback, long)</code></a></li>
<li><a href="#removeFrameCallback(icyllis.modernui.core.Choreographer.FrameCallback)"><code>removeFrameCallback(icyllis.modernui.core.Choreographer.FrameCallback)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="postFrameCallbackDelayed(icyllis.modernui.core.Choreographer.FrameCallback,long)">
<h3>postFrameCallbackDelayed</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">postFrameCallbackDelayed</span><wbr><span class="parameters">(<a href="../annotation/NonNull.html" title="annotation interface in icyllis.modernui.annotation">@NonNull</a>
 <a href="Choreographer.FrameCallback.html" title="interface in icyllis.modernui.core">Choreographer.FrameCallback</a>&nbsp;callback,
 long&nbsp;delayMillis)</span></div>
<div class="block">Posts a frame callback to run on the next frame after the specified delay.
 <p>
 The callback runs once then is automatically removed.
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>callback</code> - The frame callback to run during the next frame.</dd>
<dd><code>delayMillis</code> - The delay time in milliseconds.</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="#postFrameCallback(icyllis.modernui.core.Choreographer.FrameCallback)"><code>postFrameCallback(icyllis.modernui.core.Choreographer.FrameCallback)</code></a></li>
<li><a href="#removeFrameCallback(icyllis.modernui.core.Choreographer.FrameCallback)"><code>removeFrameCallback(icyllis.modernui.core.Choreographer.FrameCallback)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeFrameCallback(icyllis.modernui.core.Choreographer.FrameCallback)">
<h3>removeFrameCallback</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">removeFrameCallback</span><wbr><span class="parameters">(<a href="../annotation/NonNull.html" title="annotation interface in icyllis.modernui.annotation">@NonNull</a>
 <a href="Choreographer.FrameCallback.html" title="interface in icyllis.modernui.core">Choreographer.FrameCallback</a>&nbsp;callback)</span></div>
<div class="block">Removes a previously posted frame callback.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>callback</code> - The frame callback to remove.</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="#postFrameCallback(icyllis.modernui.core.Choreographer.FrameCallback)"><code>postFrameCallback(icyllis.modernui.core.Choreographer.FrameCallback)</code></a></li>
<li><a href="#postFrameCallbackDelayed(icyllis.modernui.core.Choreographer.FrameCallback,long)"><code>postFrameCallbackDelayed(icyllis.modernui.core.Choreographer.FrameCallback, long)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getFrameTime()">
<h3>getFrameTime</h3>
<div class="member-signature"><span class="annotations">@Internal
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getFrameTime</span>()</div>
<div class="block">Gets the time when the current frame started.
 <p>
 This method provides the time in milliseconds when the frame started being rendered.
 The frame time provides a stable time base for synchronizing animations
 and drawing.  It should be used instead of <a href="Core.html#timeMillis()"><code>Core.timeMillis()</code></a>
 or <a href="Core.html#timeNanos()"><code>Core.timeNanos()</code></a> for animations and drawing in the UI.  Using the frame
 time helps to reduce inter-frame jitter because the frame time is fixed at the time
 the frame was scheduled to start, regardless of when the animations or drawing
 callback actually runs.  All callbacks that run as part of rendering a frame will
 observe the same frame time so using the frame time also helps to synchronize effects
 that are performed by different callbacks.
 </p><p>
 Please note that the framework already takes care to process animations and
 drawing using the frame time as a stable time base.  Most applications should
 not need to use the frame time information directly.
 </p><p>
 This method should only be called from within a callback.
 </p></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The frame start time, in the <a href="Core.html#timeMillis()"><code>Core.timeMillis()</code></a> time base.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if no frame is in progress.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getFrameTimeNanos()">
<h3>getFrameTimeNanos</h3>
<div class="member-signature"><span class="annotations">@Internal
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getFrameTimeNanos</span>()</div>
<div class="block">Same as <a href="#getFrameTime()"><code>getFrameTime()</code></a> but with nanosecond precision.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The frame start time, in the <a href="Core.html#timeNanos()"><code>Core.timeNanos()</code></a> time base.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if no frame is in progress.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getLastFrameTimeNanos()">
<h3>getLastFrameTimeNanos</h3>
<div class="member-signature"><span class="annotations">@Internal
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getLastFrameTimeNanos</span>()</div>
<div class="block">Like <a href="#getFrameTimeNanos()"><code>getFrameTimeNanos()</code></a>, but always returns the last frame time, not matter
 whether callbacks are currently running.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The frame start time of the last frame, in the <a href="Core.html#timeNanos()"><code>Core.timeNanos()</code></a> time base.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
