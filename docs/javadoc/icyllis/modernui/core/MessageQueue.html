<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) on Wed Jan 17 16:52:37 CST 2024 -->
<title>MessageQueue</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2024-01-17">
<meta name="description" content="declaration: package: icyllis.modernui.core, class: MessageQueue">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">icyllis.modernui.core</a></div>
<h1 title="Class MessageQueue" class="title">Class MessageQueue</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">icyllis.modernui.core.MessageQueue</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public final class </span><span class="element-name type-name-label">MessageQueue</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">Low-level class holding the list of messages to be dispatched by a
 <a href="Looper.html" title="class in icyllis.modernui.core"><code>Looper</code></a>.  Messages are not added directly to a MessageQueue,
 but rather through <a href="Handler.html" title="class in icyllis.modernui.core"><code>Handler</code></a> objects associated with the Looper.

 <p>You can retrieve the MessageQueue for the current thread with
 <a href="Looper.html#myQueue()"><code>Looper.myQueue()</code></a>.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static interface&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="MessageQueue.IdleHandler.html" class="type-name-link" title="interface in icyllis.modernui.core">MessageQueue.IdleHandler</a></code></div>
<div class="col-last even-row-color">
<div class="block">Callback interface for discovering when a thread is going to block
 waiting for more messages.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addIdleHandler(icyllis.modernui.core.MessageQueue.IdleHandler)" class="member-name-link">addIdleHandler</a><wbr>(<a href="MessageQueue.IdleHandler.html" title="interface in icyllis.modernui.core">MessageQueue.IdleHandler</a>&nbsp;handler)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Add a new <a href="MessageQueue.IdleHandler.html" title="interface in icyllis.modernui.core"><code>MessageQueue.IdleHandler</code></a> to this message queue.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isIdle()" class="member-name-link">isIdle</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns true if the looper has no pending messages which are due to be processed.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isPolling()" class="member-name-link">isPolling</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns whether this looper's thread is currently polling for more work to do.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#postSyncBarrier()" class="member-name-link">postSyncBarrier</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Posts a synchronization barrier to the Looper's message queue.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeIdleHandler(icyllis.modernui.core.MessageQueue.IdleHandler)" class="member-name-link">removeIdleHandler</a><wbr>(<a href="MessageQueue.IdleHandler.html" title="interface in icyllis.modernui.core">MessageQueue.IdleHandler</a>&nbsp;handler)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Remove an <a href="MessageQueue.IdleHandler.html" title="interface in icyllis.modernui.core"><code>MessageQueue.IdleHandler</code></a> from the queue that was previously added
 with <a href="#addIdleHandler(icyllis.modernui.core.MessageQueue.IdleHandler)"><code>addIdleHandler(icyllis.modernui.core.MessageQueue.IdleHandler)</code></a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeSyncBarrier(int)" class="member-name-link">removeSyncBarrier</a><wbr>(int&nbsp;token)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Removes a synchronization barrier.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="isIdle()">
<h3>isIdle</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isIdle</span>()</div>
<div class="block">Returns true if the looper has no pending messages which are due to be processed.

 <p>This method is safe to call from any thread.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>True if the looper is idle.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addIdleHandler(icyllis.modernui.core.MessageQueue.IdleHandler)">
<h3>addIdleHandler</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addIdleHandler</span><wbr><span class="parameters">(<a href="../annotation/NonNull.html" title="annotation interface in icyllis.modernui.annotation">@NonNull</a>
 <a href="MessageQueue.IdleHandler.html" title="interface in icyllis.modernui.core">MessageQueue.IdleHandler</a>&nbsp;handler)</span></div>
<div class="block">Add a new <a href="MessageQueue.IdleHandler.html" title="interface in icyllis.modernui.core"><code>MessageQueue.IdleHandler</code></a> to this message queue.  This may be
 removed automatically for you by returning false from
 <a href="MessageQueue.IdleHandler.html#queueIdle()"><code>IdleHandler.queueIdle()</code></a> when it is
 invoked, or explicitly removing it with <a href="#removeIdleHandler(icyllis.modernui.core.MessageQueue.IdleHandler)"><code>removeIdleHandler(icyllis.modernui.core.MessageQueue.IdleHandler)</code></a>.

 <p>This method is safe to call from any thread.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>handler</code> - The IdleHandler to be added.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeIdleHandler(icyllis.modernui.core.MessageQueue.IdleHandler)">
<h3>removeIdleHandler</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">removeIdleHandler</span><wbr><span class="parameters">(<a href="../annotation/NonNull.html" title="annotation interface in icyllis.modernui.annotation">@NonNull</a>
 <a href="MessageQueue.IdleHandler.html" title="interface in icyllis.modernui.core">MessageQueue.IdleHandler</a>&nbsp;handler)</span></div>
<div class="block">Remove an <a href="MessageQueue.IdleHandler.html" title="interface in icyllis.modernui.core"><code>MessageQueue.IdleHandler</code></a> from the queue that was previously added
 with <a href="#addIdleHandler(icyllis.modernui.core.MessageQueue.IdleHandler)"><code>addIdleHandler(icyllis.modernui.core.MessageQueue.IdleHandler)</code></a>.  If the given object is not currently
 in the idle list, nothing is done.

 <p>This method is safe to call from any thread.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>handler</code> - The IdleHandler to be removed.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isPolling()">
<h3>isPolling</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isPolling</span>()</div>
<div class="block">Returns whether this looper's thread is currently polling for more work to do.
 This is a good signal that the loop is still alive rather than being stuck
 handling a callback.  Note that this method is intrinsically racy, since the
 state of the loop can change before you get the result back.

 <p>This method is safe to call from any thread.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>True if the looper is currently polling for events.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="postSyncBarrier()">
<h3>postSyncBarrier</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">postSyncBarrier</span>()</div>
<div class="block">Posts a synchronization barrier to the Looper's message queue.
 <p>
 Message processing occurs as usual until the message queue encounters the
 synchronization barrier that has been posted.  When the barrier is encountered,
 later synchronous messages in the queue are stalled (prevented from being executed)
 until the barrier is released by calling <a href="#removeSyncBarrier(int)"><code>removeSyncBarrier(int)</code></a> and specifying
 the token that identifies the synchronization barrier.
 <p>
 This method is used to immediately postpone execution of all subsequently posted
 synchronous messages until a condition is met that releases the barrier.
 Asynchronous messages (see <a href="Message.html#isAsynchronous()"><code>Message.isAsynchronous()</code></a>) are exempt from the barrier
 and continue to be processed as usual.
 <p>
 This call must be always matched by a call to <a href="#removeSyncBarrier(int)"><code>removeSyncBarrier(int)</code></a> with
 the same token to ensure that the message queue resumes normal operation.
 Otherwise, the application will probably hang!</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>A token that uniquely identifies the barrier.  This token must be
 passed to <a href="#removeSyncBarrier(int)"><code>removeSyncBarrier(int)</code></a> to release the barrier.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeSyncBarrier(int)">
<h3>removeSyncBarrier</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">removeSyncBarrier</span><wbr><span class="parameters">(int&nbsp;token)</span></div>
<div class="block">Removes a synchronization barrier.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>token</code> - The synchronization barrier token that was returned by
              <a href="#postSyncBarrier()"><code>postSyncBarrier()</code></a>.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if the barrier was not found.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
